(this["webpackJsonpdc-extension-map-ui"]=this["webpackJsonpdc-extension-map-ui"]||[]).push([[0],{38:function(e,t,n){e.exports=n.p+"static/media/pin.a5f9bad3.png"},46:function(e,t,n){e.exports=n(73)},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(6),o=n.n(l),c=n(35),i=n(15),s=n(8),u=n.n(s),p=n(18),f=n(14),m=n(36),d=function(e){return{type:"SET_GLOBAL_ERROR",value:e}},y=function(e){return{type:"SET_INITIALISED",value:e}},g=function(e){return{type:"SET_FETCHING",value:e}},v=function(e){return{type:"SET_SELECTED_POINT",value:e}},b=function(e){return{type:"SET_SDK",value:e}};var h={apiKey:"",theme:"Dark",searchPlaceholderText:"Search Places ..."};var E=Object(i.c)({SDK:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SDK":return t.value;default:return e}},params:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.value;switch(n){case"SET_PARAMS":var r=a||{},l=r.installation,o=r.instance,c=Object(p.a)({},l,{},o);return Object(p.a)({},e,{},c);default:return e}},globalError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GLOBAL_ERROR":return t.value;default:return e}},initialised:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INITIALISED":return t.value;default:return e}},selectedPoint:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELECTED_POINT":return t.value;default:return e}},isFetching:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FETCHING":return t.value;default:return e}}}),T=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,O=Object(i.e)(E,T(Object(i.a)(c.a))),S=n(7),w=n(93),C=n(92),j=n(12),x=n(16),k=n(38),K=n.n(k),_=[{elementType:"geometry",stylers:[{color:"#343333"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#454545"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#181818"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#1b1b1b"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#454545"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#454545"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#4e4e4e"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#7e7e7e"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#181919"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}],D=Object(x.GoogleApiWrapper)((function(e){return{apiKey:e.apiKey}}))(Object(S.b)(null,{setValue:function(e){return function(){var t=Object(f.a)(u.a.mark((function t(n,a){var r,l,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a(),l=r.SDK,t.prev=1,t.next=4,l.field.setValue(e);case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),o=t.t0&&t.t0.length&&t.t0[0].data&&t.t0[0].data.keyword,n(d(o||"Could not set value"));case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n){return t.apply(this,arguments)}}()}})((function(e){var t=e.location,n=t.lat,l=void 0===n?0:n,o=t.lng,c=void 0===o?0:o,i=e.locationName,s=void 0===i?"":i,u=e.locationAddress,p=void 0===u?"":u,f=e.mapZoom,m=void 0===f?"17":f,d=e.theme,y=void 0===d?"Dark":d,g=e.gestureHandling,v=void 0===g?"none":g,b=e.mapTypeControl,h=void 0!==b&&b,E=e.scaleControl,T=void 0!==E&&E,O=e.zoomControl,S=void 0!==O&&O,w=e.streetViewControl,C=void 0!==w&&w,k=e.rotateControl,D=void 0!==k&&k,I=e.fullscreenControl,L=void 0!==I&&I,N=e.google,P=e.draggable,A=e.setValue,R=Object(a.useState)(!1),G=Object(j.a)(R,2),z=G[0],H=G[1],V=Object(a.useState)(null),B=Object(j.a)(V,2),F=B[0],M=B[1],W=Object(a.useState)({lat:l,lng:c}),J=Object(j.a)(W,2),X=J[0],Z=J[1];return Object(a.useEffect)((function(){var t={lat:e.location.lat,lng:e.location.lng};Z(t),P&&A(t)}),[e,P,A]),r.a.createElement(x.Map,{gestureHandling:v.toLowerCase()||"none",mapTypeControl:h,scaleControl:T,zoomControl:S,streetViewControl:C,rotateControl:D,fullscreenControl:L,zoom:parseInt(m,10),containerStyle:P?{width:"100%",height:"100%",position:"relative",minHeight:"400px"}:{},style:{width:"100%",height:"100%",position:"relative",minHeight:"400px"},center:{lat:l,lng:c},initialCenter:{lat:l,lng:c},styles:"Dark"===y?_:[new N.maps.StyledMapType],onClick:function(){H(!1),M(null)},google:N},r.a.createElement(x.Marker,{draggable:P,onDragend:function(e,t,n){Z({lat:n.latLng.lat(),lng:n.latLng.lng()}),P&&A({lat:n.latLng.lat(),lng:n.latLng.lng()})},position:X,mapCenter:X,icon:{url:K.a,anchor:new N.maps.Point(24,24),scaledSize:new N.maps.Size(48,48)},onClick:function(e,t){H(!z),M(z?null:t)}}),s||p?r.a.createElement(x.InfoWindow,{marker:F,visible:z,onClose:function(){H(!1),M(null)},style:{color:"#616161"}},r.a.createElement("div",null,r.a.createElement("h1",{className:"title"},s),r.a.createElement("p",{className:"description"},p))):null)}))),I=n(29),L=n.n(I),N=Object(x.GoogleApiWrapper)((function(e){return{apiKey:e.apiKey}}))(Object(S.b)((function(e){return{selectedPoint:e.selectedPoint,SDK:e.SDK,initialised:e.initialised,params:e.params}}))((function(e){var t=e.initialised,n=e.apiKey,l=e.selectedPoint,o=e.params,c=Object(a.useState)(""),i=Object(j.a)(c,2),s=i[0],u=i[1],p=Object(a.useState)({lat:l.lat,lng:l.lng}),f=Object(j.a)(p,2),m=f[0],d=f[1];return t?r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{value:s,onChange:function(e){return u(e)},onSelect:function(e){u(e),Object(I.geocodeByAddress)(e).then((function(e){return Object(I.getLatLng)(e[0])})).then((function(e){d({lat:e.lat,lng:e.lng})})).catch((function(e){return console.error("Error",e)}))}},(function(e){var t=e.getInputProps,n=e.suggestions,a=e.getSuggestionItemProps;return r.a.createElement("div",{className:"auto-wrapper"},r.a.createElement("input",t({placeholder:o.searchPlaceholderText||"Search Places ...",className:"location-search-input"})),r.a.createElement("div",{className:"autocomplete-dropdown-container"},n.map((function(e){var t=e.active?"suggestion-item--active":"suggestion-item",n=e.active?{backgroundColor:"#efeef4",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return r.a.createElement("div",a(e,{className:t,style:n}),r.a.createElement("span",null,e.description))}))))})),r.a.createElement("span",{className:"close",title:"Clear",onClick:function(){u(""),d({lat:0,lng:0})}}),r.a.createElement(D,{theme:"light"===o.theme.toLowerCase()?"Light":"Dark",location:m,apiKey:n,mapZoom:"17",draggable:!0,gestureHandling:"auto",mapTypeControl:!1,scaleControl:!1,zoomControl:!0,streetViewControl:!1,rotateControl:!0,fullscreenControl:!1})):null}))),P=Object(S.b)((function(e){return{globalError:e.globalError,params:e.params}}),{setGlobalError:d})((function(e){var t=r.a.createElement("span",null,r.a.createElement(w.a,null),e.globalError);return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:3e3,open:Boolean(e.globalError),message:t}),e.params.apiKey?r.a.createElement(N,{apiKey:e.params.apiKey}):null)})),A=n(91),R=Object(S.b)((function(e){return{globalError:e.globalError}}),{setGlobalError:d})((function(e){var t=Object(a.useState)({}),n=Object(j.a)(t,2),l=n[0],o=n[1],c=r.a.createElement("span",null,r.a.createElement(w.a,null),e.globalError);return Object(a.useEffect)((function(){function t(){return(t=Object(f.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(n);case 2:t.sent.json().then((function(e){return o(e.content)})).catch((function(t){return e.setGlobalError(t)}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(e){t.apply(this,arguments)}(function(e){var t=e.vse,n=e.content;return"//".concat(t,"/content/id/").concat(n)}(e))}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,null,r.a.createElement(C.a,{anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:3e3,open:Boolean(e.globalError),message:c})),l.location?r.a.createElement(D,Object.assign({apiKey:e.apiKey},l)):null)})),G=(n(72),function(){return r.a.createElement(S.a,{store:O},r.a.createElement(P,null))}),z=function(e){var t=e.vse,n=e.content,a=e.apiKey;return r.a.createElement(S.a,{store:O},r.a.createElement(R,{content:n,vse:t,apiKey:a}))};var H=function(){for(var e,t=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),a=0;a<n.length;a++)e=n[a].split("="),t.push(e[0]),t[e[0]]=e[1];return t}();H.vse&&H.content&&H.apiKey?o.a.render(r.a.createElement(z,{content:H.content,apiKey:H.apiKey,vse:H.vse}),document.getElementById("root")):(O.dispatch(function(){var e=Object(f.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n(),r=a.SDK,e.prev=1,!r){e.next=4;break}return e.abrupt("return",r);case 4:return e.next=6,Object(m.a)();case 6:r=e.sent,t(b(r)),t({type:"SET_PARAMS",value:r.params}),t(function(){var e=Object(f.a)(u.a.mark((function e(t,n){var a,r,l,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n(),r=a.SDK,l=a.params,e.prev=2,l.apiKey){e.next=6;break}return t(y(!0)),e.abrupt("return",t(d("Google api key is required")));case 6:return t(g(!0)),e.next=9,r.field.getValue();case 9:o=e.sent,t(v(o)),t(g(!1)),t(y(!0)),e.next=21;break;case 15:e.prev=15,e.t0=e.catch(2),console.error("could not load",e.t0),t(g(!1)),t(y(!0)),t(d("Could not get selected point"));case 21:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,n){return e.apply(this,arguments)}}()),r.frame.startAutoResizer(),r.form.onReadOnlyChange((function(e){t(b(Object(p.a)({},r,{form:Object(p.a)({},r.form,{readOnly:e})})))})),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(1),console.error("Failed to load",e.t0),t(y(!0)),t(d("Could not get SDK"));case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,n){return e.apply(this,arguments)}}()),o.a.render(r.a.createElement(G,null),document.getElementById("root")))}},[[46,1,2]]]);
//# sourceMappingURL=main.9d428a41.chunk.js.map